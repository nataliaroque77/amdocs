(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,a,t){e.exports=t(36)},35:function(e,a,t){},36:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(21),c=t(7),s=t(8),i=t(10),m=t(9),o=t(11),u=t(15),h=t(6),d=t(22),E=function(e){var a=e.component,t=Object(d.a)(e,["component"]);return r.a.createElement(h.b,Object.assign({},t,{render:function(e){return r.a.createElement(a,e)}}))},p=t(25),b=t(13);var f={login:function(e,a){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,credential:a}),credentials:"include"};return fetch("http://3.122.7.162:5000/v60/admin/session",t).then(function(e){return e.ok?e:Promise.reject("Please contact the System Administrator at extension 1001 to create a new Login or reset your password.")}).then(function(e){return e.json()})}},v=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(i.a)(this,Object(m.a)(a).call(this,e))).state={username:"",credential:"",submitted:!1,loading:!1,error:""},t.handleChange=t.handleChange.bind(Object(b.a)(t)),t.handleSubmit=t.handleSubmit.bind(Object(b.a)(t)),t}return Object(o.a)(a,e),Object(s.a)(a,[{key:"handleChange",value:function(e){var a=e.target,t=a.name,n=a.value;this.setState(Object(p.a)({},t,n))}},{key:"handleSubmit",value:function(e){var a=this;e.preventDefault(),this.setState({submitted:!0});var t=this.state,n=t.username,r=t.credential;n&&r&&(this.setState({loading:!0}),f.login(n,r).then(function(e){var t=(a.props.location.state||{from:{pathname:"/search"}}).from;a.props.history.push(t)},function(e){return a.setState({error:e,loading:!1})}))}},{key:"render",value:function(){var e=this.state,a=e.username,t=e.credential,n=e.submitted,l=e.loading,c=e.error;return r.a.createElement("div",{className:"section-centered session"},r.a.createElement("div",{className:"card"},r.a.createElement("h2",null,"Login"),r.a.createElement("form",{name:"form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"+(n&&!a?" has-error":"")},r.a.createElement("label",{htmlFor:"username",className:"accesiblity-text"},"Username"),r.a.createElement("input",{type:"text",className:"form-control",name:"username",value:a,onChange:this.handleChange}),n&&!a&&r.a.createElement("div",{className:"help-block"},"Username is required")),r.a.createElement("div",{className:"form-group"+(n&&!t?" has-error":"")},r.a.createElement("label",{htmlFor:"credential",className:"accesiblity-text"},"credential"),r.a.createElement("input",{type:"credential",className:"form-control",name:"credential",value:t,onChange:this.handleChange}),n&&!t&&r.a.createElement("div",{className:"help-block"},"Credential is required")),r.a.createElement("div",{className:"actions-section"},r.a.createElement("button",{className:"btn btn-primary",disabled:l},"Login")),c&&r.a.createElement("div",{className:"alert alert-danger"},c))))}}]),a}(r.a.Component),g=function(e){return r.a.createElement("div",null,e.results.length>0&&r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"search-results-section"},r.a.createElement("h2",null,r.a.createElement("span",null,"Search results for: ")," ",e.query),r.a.createElement("h3",null,"Users"),r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Status"))),r.a.createElement("tbody",null,e.results.map(function(e,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,e.username),r.a.createElement("td",{className:"text-center"},e.displayName),r.a.createElement("td",null,e.status))})))),r.a.createElement("nav",{"aria-label":"Search pagination"},r.a.createElement("ul",{className:"pagination"},r.a.createElement("li",{className:"page-item"},r.a.createElement("a",{className:"page-link",href:"/"},"Previous")),r.a.createElement("li",{className:"page-item"},r.a.createElement("a",{className:"page-link",href:"/"},"1")),r.a.createElement("li",{className:"page-item"},r.a.createElement("a",{className:"page-link",href:"/"},"2")),r.a.createElement("li",{className:"page-item"},r.a.createElement("a",{className:"page-link",href:"/"},"3")),r.a.createElement("li",{className:"page-item"},r.a.createElement("a",{className:"page-link",href:"/"},"Next"))))))))},N=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(i.a)(this,Object(m.a)(a).call(this))).onSearchChange=function(a){e.setState({searchText:a.target.value})},e.handleSubmit=function(a){a.preventDefault(),e.doSearch(e.query.value),a.currentTarget.reset()},e.doSearch=function(a){var t="http://3.122.7.162:5000/v60/admin/search/user?keyword=".concat(a,"&alias=false");fetch(t,{credentials:"include"}).then(function(e){return e.json()}).then(function(a){e.setState({results:a})}).catch(function(e){})},e.state={searchText:"",results:[]},e}return Object(o.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.doSearch()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"dashboard"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"search-section"},r.a.createElement("form",{className:"search-form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"search"},"Search User"),r.a.createElement("input",{type:"search",onChange:this.onSearchChange,name:"search",ref:function(a){return e.query=a},placeholder:"Search...",className:"form-control"})),r.a.createElement("button",{className:"btn btn-default",type:"submit",id:"submit"},"Search"))))),r.a.createElement(g,{results:this.state.results,query:this.state.searchText}))}}]),a}(r.a.Component),y=function(e){function a(){return Object(c.a)(this,a),Object(i.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(o.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(u.a,null,r.a.createElement(E,{path:"/search",component:N}),r.a.createElement(h.b,{exact:!0,path:"/login",component:v}),r.a.createElement(h.a,{from:"/",to:"/login"}))}}]),a}(r.a.Component);t(35);Object(l.render)(r.a.createElement(y,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.a37d2404.chunk.js.map